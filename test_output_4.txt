
> NX {workspaceRoot}\jest.preset.js does not start with {workspaceRoot}/. This will throw an error in Nx 20.


 NX   Running targets lint, test for 5 projects:

- shared-models
- vlass-api-e2e
- vlass-web-e2e
- vlass-api
- vlass-web



> nx run vlass-api:test  [local cache]

> jest --passWithNoTests=true

[0m[7m[1m[32m PASS [39m[22m[27m[0m [0m[7m[37m vlass-api [39m[27m[0m [2msrc/app/config/[22m[1msecurity.config.spec.ts[22m
[0m[7m[1m[32m PASS [39m[22m[27m[0m [0m[7m[37m vlass-api [39m[27m[0m [2msrc/app/guards/[22m[1mrate-limit.guard.spec.ts[22m
[0m[7m[1m[32m PASS [39m[22m[27m[0m [0m[7m[37m vlass-api [39m[27m[0m [2msrc/app/ephemeris/[22m[1mephemeris.service.spec.ts[22m
[0m[7m[1m[32m PASS [39m[22m[27m[0m [0m[7m[37m vlass-api [39m[27m[0m [2msrc/app/ephemeris/[22m[1mephemeris.controller.spec.ts[22m
[0m[7m[1m[32m PASS [39m[22m[27m[0m [0m[7m[37m vlass-api [39m[27m[0m [2msrc/app/profile/[22m[1mprofile.service.spec.ts[22m
[0m[7m[1m[32m PASS [39m[22m[27m[0m [0m[7m[37m vlass-api [39m[27m[0m [2msrc/app/profile/[22m[1mprofile.controller.spec.ts[22m
[0m[7m[1m[32m PASS [39m[22m[27m[0m [0m[7m[37m vlass-api [39m[27m[0m [2msrc/app/auth/strategies/[22m[1mjwt.strategy.spec.ts[22m
[0m[7m[1m[32m PASS [39m[22m[27m[0m [0m[7m[37m vlass-api [39m[27m[0m [2msrc/app/viewer/[22m[1mviewer.controller.spec.ts[22m
[0m[7m[1m[32m PASS [39m[22m[27m[0m [0m[7m[37m vlass-api [39m[27m[0m [2msrc/app/viewer/[22m[1mviewer.service.spec.ts[22m
[0m[7m[1m[32m PASS [39m[22m[27m[0m [0m[7m[37m vlass-api [39m[27m[0m [2msrc/app/[22m[1mapp.service.spec.ts[22m
[0m[7m[1m[32m PASS [39m[22m[27m[0m [0m[7m[37m vlass-api [39m[27m[0m [2msrc/app/[22m[1mapp.controller.spec.ts[22m
[0m[7m[1m[32m PASS [39m[22m[27m[0m [0m[7m[37m vlass-api [39m[27m[0m [2msrc/app/auth/[22m[1mauth.service.spec.ts[22m
[0m[7m[1m[32m PASS [39m[22m[27m[0m [0m[7m[37m vlass-api [39m[27m[0m [2msrc/app/auth/[22m[1mauth.controller.spec.ts[22m
[32m[Nest] 37560  - [39m02/11/2026, 10:08:06 AM [32m    LOG[39m [38;5;3m[AppService] [39m[32mDatabase status: connected[39m
[32m[Nest] 37560  - [39m02/11/2026, 10:08:06 AM [32m    LOG[39m [38;5;3m[AppService] [39m[32mDatabase status: connected[39m
[32m[Nest] 35916  - [39m02/11/2026, 10:08:06 AM [32m    LOG[39m [38;5;3m[ViewerService] [39m[32mCutout cache miss (source=none, provider=primary, survey=CDS/P/DSS2/color, size=1024x1024).[39m
[32m[Nest] 35916  - [39m02/11/2026, 10:08:06 AM [32m    LOG[39m [38;5;3m[ViewerService] [39m[32mCutout cache miss (source=none, provider=primary, survey=CDS/VLASS, size=1024x1024).[39m
[32m[Nest] 35916  - [39m02/11/2026, 10:08:06 AM [32m    LOG[39m [38;5;3m[ViewerService] [39m[32mCutout cache miss (source=none, provider=primary, survey=CDS/VLASS, size=2048x2048).[39m
[32m[Nest] 35916  - [39m02/11/2026, 10:08:06 AM [32m    LOG[39m [38;5;3m[ViewerService] [39m[32mCutout cache miss (source=none, provider=primary, survey=CDS/VLASS, size=1024x1024).[39m
[32m[Nest] 35916  - [39m02/11/2026, 10:08:06 AM [32m    LOG[39m [38;5;3m[ViewerService] [39m[32mCutout cache miss (source=none, provider=secondary, survey=CDS/VLASS, size=1024x1024).[39m
[32m[Nest] 35916  - [39m02/11/2026, 10:08:06 AM [32m    LOG[39m [38;5;3m[ViewerService] [39m[32mNearby-label cache miss (source=none, limit=10, radius_deg=0.08).[39m

[1mTest Suites: [22m[1m[32m13 passed[39m[22m, 13 total
[1mTests:       [22m[1m[32m110 passed[39m[22m, 110 total
[1mSnapshots:   [22m0 total
[1mTime:[22m        2.468 s
[2mRan all test suites[22m[2m.[22m

> nx run vlass-api:lint  [existing outputs match the cache, left as is]

[2m> [22meslint .


> nx run vlass-web-e2e:lint

> eslint .


> nx run vlass-api-e2e:lint  [existing outputs match the cache, left as is]

[2m> [22meslint .


> nx run shared-models:lint  [existing outputs match the cache, left as is]

> eslint .


> nx run shared-models:test  [local cache]

> vitest


[1m[46m RUN [49m[22m [36mv4.0.18 [39m[90mC:/repos/vlass-portal/libs/shared/models[39m

 [32mâœ“[39m [30m[42m shared-models [49m[39m src/lib/shared-models.spec.ts [2m([22m[2m1 test[22m[2m)[22m[32m 2[2mms[22m[39m

[2m Test Files [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m   Start at [22m 08:30:13
[2m   Duration [22m 166ms[2m (transform 24ms, setup 0ms, import 31ms, tests 2ms, environment 0ms)[22m


> nx run vlass-web:lint


Linting "vlass-web"...
[0m[0m
[0m[4mC:\repos\vlass-portal\apps\vlass-web\src\app\features\posts\comments-api.service.ts[24m[0m
[0m  [2m63:92[22m  [33mwarning[39m  Unexpected any. Specify a different type  [2m@typescript-eslint/no-explicit-any[22m[0m
[0m  [2m64:27[22m  [33mwarning[39m  Unexpected any. Specify a different type  [2m@typescript-eslint/no-explicit-any[22m[0m
[0m  [2m87:75[22m  [33mwarning[39m  Unexpected any. Specify a different type  [2m@typescript-eslint/no-explicit-any[22m[0m
[0m  [2m88:28[22m  [33mwarning[39m  Unexpected any. Specify a different type  [2m@typescript-eslint/no-explicit-any[22m[0m
[0m[0m
[0m[33m[1mâœ– 4 problems (0 errors, 4 warnings)[22m[39m[0m
[0m[33m[1m[22m[39m[0m
âœ– 4 problems (0 errors, 4 warnings)


> nx run vlass-web:test

[33mâ¯[39m Building...
[32mâœ”[39m Building...
[37m[1mInitial chunk files[22m                                   [2m | [22m[1mNames[22m                                              [2m | [22m [1mRaw size[22m[39m
[37m[32mspec-app-features-viewer-viewer.component.js[39m[37m          [2m | [22m[2mspec-app-features-viewer-viewer.component[22m          [2m | [22m[36m111.04 kB[39m[37m[2m | [22m[39m
[37m[32mspec-app-features-posts-post-detail.component.js[39m[37m      [2m | [22m[2mspec-app-features-posts-post-detail.component[22m      [2m | [22m [36m66.11 kB[39m[37m[2m | [22m[39m
[37m[32mspec-app-features-auth-register-register.component.js[39m[37m [2m | [22m[2mspec-app-features-auth-register-register.component[22m [2m | [22m [36m49.06 kB[39m[37m[2m | [22m[39m
[37m[32mspec-app-features-landing-landing.component.js[39m[37m        [2m | [22m[2mspec-app-features-landing-landing.component[22m        [2m | [22m [36m45.41 kB[39m[37m[2m | [22m[39m
[37m[32mspec-app-features-logs-logs.component.js[39m[37m              [2m | [22m[2mspec-app-features-logs-logs.component[22m              [2m | [22m [36m34.69 kB[39m[37m[2m | [22m[39m
[37m[32mspec-app-features-posts-post-editor.component.js[39m[37m      [2m | [22m[2mspec-app-features-posts-post-editor.component[22m      [2m | [22m [36m32.79 kB[39m[37m[2m | [22m[39m
[37m[32mspec-app-features-profile-profile.component.js[39m[37m        [2m | [22m[2mspec-app-features-profile-profile.component[22m        [2m | [22m [36m30.58 kB[39m[37m[2m | [22m[39m
[37m[32mspec-app-features-moderation-moderation.component.js[39m[37m  [2m | [22m[2mspec-app-features-moderation-moderation.component[22m  [2m | [22m [36m25.26 kB[39m[37m[2m | [22m[39m
[37m[32mspec-app-features-posts-posts-list.component.js[39m[37m       [2m | [22m[2mspec-app-features-posts-posts-list.component[22m       [2m | [22m [36m23.72 kB[39m[37m[2m | [22m[39m
[37m[32mspec-app-features-jobs-jobs-console.component.js[39m[37m      [2m | [22m[2mspec-app-features-jobs-jobs-console.component[22m      [2m | [22m [36m17.33 kB[39m[37m[2m | [22m[39m
[37m[32mstyles.css[39m[37m              [39m[37m                              [2m | [22m[2mstyles[22m                                             [2m | [22m [36m15.73 kB[39m[37m[2m | [22m[39m
[37m[32mspec-app-app.js[39m[37m                                       [2m | [22m[2mspec-app-app[22m                                       [2m | [22m [36m14.50 kB[39m[37m[2m | [22m[39m
[37m[32mchunk-EHH6453B.js[39m[37m                                     [2m | [22m[2m-[22m                                                  [2m | [22m  [36m8.99 kB[39m[37m[2m | [22m[39m
[37m[32mspec-app-interceptors-auth-token.interceptor.js[39m[37m       [2m | [22m[2mspec-app-interceptors-auth-token.interceptor[22m       [2m | [22m  [36m7.30 kB[39m[37m[2m | [22m[39m
[37m[32mchunk-LR642XO6.js[39m[37m                                     [2m | [22m[2m-[22m                                                  [2m | [22m  [36m5.23 kB[39m[37m[2m | [22m[39m
[37m[32mchunk-RSTWSNOR.js[39m[37m                                     [2m | [22m[2m-[22m                                                  [2m | [22m  [36m4.75 kB[39m[37m[2m | [22m[39m
[37m[32mspec-app-guards-admin.guard.js[39m[37m                        [2m | [22m[2mspec-app-guards-admin.guard[22m                        [2m | [22m  [36m4.75 kB[39m[37m[2m | [22m[39m
[37m[32mspec-app-features-posts-posts-api.service.js[39m[37m          [2m | [22m[2mspec-app-features-posts-posts-api.service[22m          [2m | [22m  [36m3.95 kB[39m[37m[2m | [22m[39m
[37m[32mchunk-PSYEB473.js[39m[37m                                     [2m | [22m[2m-[22m                                                  [2m | [22m  [36m3.23 kB[39m[37m[2m | [22m[39m
[37m[32mspec-app-services-sky-preview.service.js[39m[37m              [2m | [22m[2mspec-app-services-sky-preview.service[22m              [2m | [22m  [36m3.21 kB[39m[37m[2m | [22m[39m
[37m[32mchunk-GFGOAHBC.js[39m[37m                                     [2m | [22m[2m-[22m                                                  [2m | [22m  [36m2.78 kB[39m[37m[2m | [22m[39m
[37m[32mchunk-Z2AIQCP7.js[39m[37m                           [39m[37m          [2m | [22m[2m-[22m                                                  [2m | [22m  [36m2.70 kB[39m[37m[2m | [22m[39m
[37m[32mspec-app-features-viewer-hips-tile-prefetch.service.js[39m[37m[2m | [22m[2mspec-app-features-viewer-hips-tile-prefetch.service[22m[2m | [22m  [36m2.05 kB[39m[37m[2m | [22m[39m
[37m[32mchunk-6BZ3CG22.js[39m[37m                                     [2m | [22m[2m-[22m                                                  [2m | [22m  [36m1.96 kB[39m[37m[2m | [22m[39m
[37m[32mchunk-5RTMZ5EK.js[39m[37m                                     [2m | [22m[2m-[22m                                                  [2m | [22m  [36m1.76 kB[39m[37m[2m | [22m[39m
[37m[32mchunk-3SZSKVQR.js[39m[37m                                     [2m | [22m[2m-[22m                                                  [2m | [22m  [36m1.39 kB[39m[37m[2m | [22m[39m
[37m[32minit-testbed.js[39m[37m                                       [2m | [22m[2minit-testbed[22m                                       [2m | [22m  [36m1.21 kB[39m[37m[2m | [22m[39m
[37m[32mspec-app-features-posts-markdown-renderer.js[39m[37m          [2m | [22m[2mspec-app-features-posts-markdown-renderer[22m          [2m | [22m[36m701 bytes[39m[37m[2m | [22m[39m
[37m[39m
[37m[1m [22m                                                     [2m | [22m[1mInitial total[22m                                      [2m | [22m[1m522.19 kB[22m[39m
[37m[39m
[37mApplication bundle generation complete. [3.056 seconds] - 2026-02-11T16:09:06.772Z[39m
[37m[39m

[1m[46m RUN [49m[22m [36mv4.0.18 [39m[90mC:/repos/vlass-portal[39m

 [32mâœ“[39m [30m[43m vlass-web [49m[39m apps/vlass-web/src/app/features/posts/markdown-renderer.spec.ts [2m([22m[2m1 test[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m [30m[43m vlass-web [49m[39m apps/vlass-web/src/app/features/viewer/hips-tile-prefetch.service.spec.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 26[2mms[22m[39m
 [32mâœ“[39m [30m[43m vlass-web [49m[39m apps/vlass-web/src/app/services/sky-preview.service.spec.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 39[2mms[22m[39m
 [32mâœ“[39m [30m[43m vlass-web [49m[39m apps/vlass-web/src/app/interceptors/auth-token.interceptor.spec.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 37[2mms[22m[39m
 [32mâœ“[39m [30m[43m vlass-web [49m[39m apps/vlass-web/src/app/features/posts/posts-api.service.spec.ts [2m([22m[2m7 tests[22m[2m)[22m[32m 42[2mms[22m[39m
 [32mâœ“[39m [30m[43m vlass-web [49m[39m apps/vlass-web/src/app/app.spec.ts [2m([22m[2m1 test[22m[2m)[22m[32m 81[2mms[22m[39m
 [32mâœ“[39m [30m[43m vlass-web [49m[39m apps/vlass-web/src/app/guards/admin.guard.spec.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 26[2mms[22m[39m
 [32mâœ“[39m [30m[43m vlass-web [49m[39m apps/vlass-web/src/app/features/posts/posts-list.component.spec.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 208[2mms[22m[39m
 [32mâœ“[39m [30m[43m vlass-web [49m[39m apps/vlass-web/src/app/features/profile/profile.component.spec.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 140[2mms[22m[39m
 [32mâœ“[39m [30m[43m vlass-web [49m[39m apps/vlass-web/src/app/features/landing/landing.component.spec.ts [2m([22m[2m5 tests[22m[2m)[22m[33m 312[2mms[22m[39m
 [32mâœ“[39m [30m[43m vlass-web [49m[39m apps/vlass-web/src/app/features/logs/logs.component.spec.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 243[2mms[22m[39m
 [32mâœ“[39m [30m[43m vlass-web [49m[39m apps/vlass-web/src/app/features/auth/register/register.component.spec.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 236[2mms[22m[39m
 [32mâœ“[39m [30m[43m vlass-web [49m[39m apps/vlass-web/src/app/features/moderation/moderation.component.spec.ts [2m([22m[2m1 test[22m[2m)[22m[32m 165[2mms[22m[39m
 [32mâœ“[39m [30m[43m vlass-web [49m[39m apps/vlass-web/src/app/features/posts/post-editor.component.spec.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 243[2mms[22m[39m
 [32mâœ“[39m [30m[43m vlass-web [49m[39m apps/vlass-web/src/app/features/posts/post-detail.component.spec.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 296[2mms[22m[39m
 [32mâœ“[39m [30m[43m vlass-web [49m[39m apps/vlass-web/src/app/features/jobs/jobs-console.component.spec.ts [2m([22m[2m1 test[22m[2m)[22m[32m 260[2mms[22m[39m
 [32mâœ“[39m [30m[43m vlass-web [49m[39m apps/vlass-web/src/app/features/viewer/viewer.component.spec.ts [2m([22m[2m19 tests[22m[2m)[22m[33m 594[2mms[22m[39m

[2m Test Files [22m [1m[32m17 passed[39m[22m[90m (17)[39m
[2m      Tests [22m [1m[32m72 passed[39m[22m[90m (72)[39m
[2m   Start at [22m 10:09:07
[2m   Duration [22m 2.77s[2m (transform 2.05s, setup 7.32s, import 6.16s, tests 2.95s, environment 16.74s)[22m




 NX   Successfully ran targets lint, test for 5 projects

Nx read the output from the cache instead of running the command for 5 out of 8 tasks.


> @vlass-portal/source@0.0.0 e2e:mvp C:\repos\vlass-portal
> nx run mvp-gates:e2e


> nx run mvp-gates:e2e

> pnpm run start:ports:free && pnpm nx run vlass-web-e2e:e2e-mvp && pnpm nx run vlass-web-e2e:e2e-perf && pnpm nx run vlass-api-e2e:e2e


> @vlass-portal/source@0.0.0 start:ports:free C:\repos\vlass-portal
> node scripts/ensure-ports-free.mjs

Freed dev ports: 3000, 4200

[2m> [22m[2mnx run[22m vlass-web-e2e:e2e-mvp

[2m> [22mplaywright test src/example.spec.ts src/ssr.spec.ts --project=chromium --workers=1


[2mRunning [22m13[2m tests using [22m1[2m worker[22m

[1A[2K[1/13] [chromium] â€º src\example.spec.ts:18:5 â€º redirects unauthenticated users to login
[1A[2K[2/13] [chromium] â€º src\example.spec.ts:25:5 â€º shows error for invalid credentials
[1A[2K[3/13] [chromium] â€º src\example.spec.ts:59:5 â€º logs in and allows logout
[1A[2K[4/13] [chromium] â€º src\example.spec.ts:146:5 â€º blocks access to logs when backend confirms non-admin role
[1A[2K[5/13] [chromium] â€º src\example.spec.ts:225:5 â€º allows admin user to open logs when backend confirms admin role
[1A[2K[6/13] [chromium] â€º src\example.spec.ts:294:5 â€º creates viewer permalink and snapshot from pillar 2 flow
[1A[2K[7/13] [chromium] â€º src\example.spec.ts:398:5 â€º creates a notebook post from pillar 3 flow
[1A[2K[8/13] [chromium] â€º src\example.spec.ts:547:5 â€º syncs RA/Dec/FOV fields from Aladin view events
[1A[2K[9/13] [chromium] â€º src\example.spec.ts:633:5 â€º auto-selects higher-resolution survey when VLASS is deeply zoomed
[1A[2K[10/13] [chromium] â€º src\example.spec.ts:697:5 â€º registers a user and redirects to landing
[1A[2K[11/13] [chromium] â€º src\example.spec.ts:777:5 â€º shows conflict errors on duplicate registration
[1A[2K[12/13] [chromium] â€º src\ssr.spec.ts:15:7 â€º SSR preview payload â€º renders regional preview in /auth/login HTML
[1A[2K[13/13] [chromium] â€º src\ssr.spec.ts:22:7 â€º SSR preview payload â€º renders regional preview in /landing HTML (direct request path)
[1A[2K[32m  13 passed[39m[2m (37.6s)[22m



[0m[7m[1m[32m NX [39m[22m[27m[0m  [32mSuccessfully ran target [1me2e-mvp[22m for project vlass-web-e2e[39m



[2m> [22m[2mnx run[22m vlass-web-e2e:e2e-perf

[2m> [22mplaywright test src/perf.spec.ts --project=chromium


[2mRunning [22m1[2m test using [22m1[2m worker[22m

[1A[2K[1/1] [chromium] â€º src\perf.spec.ts:45:5 â€º meets SSR login performance budget (TTFB/FCP/LCP)
[1A[2K[32m  1 passed[39m[2m (12.4s)[22m



[0m[7m[1m[32m NX [39m[22m[27m[0m  [32mSuccessfully ran target [1me2e-perf[22m for project vlass-web-e2e[39m



[0m[7m[1m[36m NX [39m[22m[27m[0m  [36mRunning target [1me2e[22m for project vlass-api-e2e and [1m2[22m tasks it depends on:[39m



[2m> [22m[2mnx run[22m vlass-api:build

[2m> [22mwebpack-cli build --node-env=production

webpack compiled [1m[32msuccessfully[39m[22m (6555bf00b84e9725)

[2m> [22m[2mnx run[22m vlass-api:serve-e2e


[2m> [22m[2mnx run[22m vlass-api-e2e:e2e

[1m[33mNX Daemon is not running. Node process will not restart automatically after file changes.[39m[22m
Setting up...
[2m> [22m[2mnx run[22m vlass-api:build:development
[2m> [22mwebpack-cli build --node-env=development
webpack compiled [1m[32msuccessfully[39m[22m (6555bf00b84e9725)
[0m[7m[1m[32m NX [39m[22m[27m[0m  [32mSuccessfully ran target [1mbuild[22m for project vlass-api[39m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mTypeOrmModule dependencies initialized[39m[38;5;3m +39ms[39m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mLoggingModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHttpModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscoveryModule dependencies initialized[39m[38;5;3m +0ms[39m
[95m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [95m  DEBUG[39m [38;5;3m[TaccIntegrationService] [39m[95mTACC Integration initialized with URL: https://api.tacc.utexas.edu (Key present: false)[39m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mScheduleModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCacheModule dependencies initialized[39m[38;5;3m +1ms[39m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJobsModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mEphemerisModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mTypeOrmCoreModule dependencies initialized[39m[38;5;3m +51ms[39m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mTypeOrmModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mTypeOrmModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mTypeOrmModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mTypeOrmModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDatabaseModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mRepositoryModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCommentsModule dependencies initialized[39m[38;5;3m +2ms[39m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProfileModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mViewerModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAppController {/api}:[39m[38;5;3m +17ms[39m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api, GET} route[39m[38;5;3m +2ms[39m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/users, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/users, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/users/:id, GET} route[39m[38;5;3m +1ms[39m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/users/:id, PUT} route[39m[38;5;3m +0ms[39m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/users/:id, DELETE} route[39m[38;5;3m +0ms[39m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/posts, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/posts/published, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/posts, POST} route[39m[38;5;3m +1ms[39m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/posts/:id, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/posts/:id, PUT} route[39m[38;5;3m +0ms[39m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/posts/:id/publish, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/posts/:id/unpublish, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/posts/:id, DELETE} route[39m[38;5;3m +0ms[39m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/posts/:id/hide, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/posts/:id/unhide, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/posts/:id/lock, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/posts/:id/unlock, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/users/:userId/posts, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAdminLogsController {/api/admin/logs}:[39m[38;5;3m +0ms[39m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/admin/logs, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/admin/logs/summary, GET} route[39m[38;5;3m +1ms[39m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +0ms[39m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/refresh, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/github/callback, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/me, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/csrf-token, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/logout, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mViewerController {/api/view}:[39m[38;5;3m +0ms[39m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/view/state, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/view/snapshot, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/view/cutout, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/view/labels/nearby, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/view/telemetry, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/view/:shortId, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mEphemerisController {/api/view/ephem}:[39m[38;5;3m +0ms[39m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/view/ephem/search, GET} route[39m[38;5;3m +1ms[39m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCommentsController {/api/comments}:[39m[38;5;3m +0ms[39m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/comments/post/:postId, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/comments, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/comments/:id, PUT} route[39m[38;5;3m +0ms[39m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/comments/:id, DELETE} route[39m[38;5;3m +0ms[39m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/comments/:id/report, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/comments/:id/hide, PATCH} route[39m[38;5;3m +0ms[39m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/comments/:id/unhide, PATCH} route[39m[38;5;3m +0ms[39m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/comments/reports/all, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/comments/reports/:id/resolve, PATCH} route[39m[38;5;3m +0ms[39m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProfileController {/api/profiles}:[39m[38;5;3m +0ms[39m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/profiles/:username, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/profiles/me, PUT} route[39m[38;5;3m +0ms[39m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mJobsController {/api/jobs}:[39m[38;5;3m +0ms[39m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/jobs/submit, POST} route[39m[38;5;3m +1ms[39m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/jobs/:id/status, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/jobs/:id, DELETE} route[39m[38;5;3m +0ms[39m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [32m    LOG[39m [38;5;3m[ViewerService] [39m[32mViewer cache config: redis_enabled=false, cutout_ttl_ms=300000, nearby_ttl_ms=30000, warmup_enabled=false.[39m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +10ms[39m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [32m    LOG[39m [32mðŸš€ Application is running on: http://localhost:3000/api[39m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [32m    LOG[39m [32mðŸ“¦ Database: localhost:15432[39m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:27 AM [32m    LOG[39m [32mðŸ”’ CORS enabled for: http://localhost:4200[39m
[0m[7m[1m[32m PASS [39m[22m[27m[0m [0m[7m[37m vlass-api-e2e [39m[27m[0m [2mapps/vlass-api-e2e/src/[22m[1mdocs-paths.spec.ts[22m
[32m[Nest] 30768  - [39m02/11/2026, 10:10:28 AM [32m    LOG[39m [38;5;3m[HTTP] [39m[32m{"event":"http_response","method":"GET","url":"/api","status_code":200,"duration_ms":0,"user_id":"anonymous","user_role":"unknown","correlation_id":"272762e810cea2de53a2f","request_bytes":null}[39m
[1m[31m[31m[Nest] 30768  - [39m[31m02/11/2026, 10:10:28 AM [31m  ERROR[39m[31m [38;5;3m[HTTP] [39m[31m[31m{"event":"http_error","method":"POST","url":"/api/auth/login","status_code":201,"duration_ms":12,"user_id":"anonymous","user_role":"unknown","message":"","correlation_id":"272762e810cea2de53a2f","request_bytes":54}[39m[31m[39m[22m
[1m[31m[39m[22m
[1m[31m[31m[Nest] 30768  - [39m[31m02/11/2026, 10:10:28 AM [31m  ERROR[39m[31m [38;5;3m[ExceptionsHandler] [39m[31mAggregateError: [39m[22m
[1m[31m[90m    at internalConnectMultiple (node:net:1139:18)[39m[31m[39m[22m
[1m[31m[90m    at afterConnectMultiple (node:net:1712:7)[39m[31m {[39m[22m
[1m[31m  code: [32m'ECONNREFUSED'[39m[31m,[39m[22m
[1m[31m  [errors]: [[39m[22m
[1m[31m    Error: connect ECONNREFUSED ::1:15432[39m[22m
[1m[31m    [90m    at createConnectionError (node:net:1675:14)[39m[31m[39m[22m
[1m[31m    [90m    at afterConnectMultiple (node:net:1705:16)[39m[31m {[39m[22m
[1m[31m      errno: [33m-4078[39m[31m,[39m[22m
[1m[31m      code: [32m'ECONNREFUSED'[39m[31m,[39m[22m
[1m[31m      syscall: [32m'connect'[39m[31m,[39m[22m
[1m[31m      address: [32m'::1'[39m[31m,[39m[22m
[1m[31m      port: [33m15432[39m[31m[39m[22m
[1m[31m    },[39m[22m
[1m[31m    Error: connect ECONNREFUSED 127.0.0.1:15432[39m[22m
[1m[31m    [90m    at createConnectionError (node:net:1675:14)[39m[31m[39m[22m
[1m[31m    [90m    at afterConnectMultiple (node:net:1705:16)[39m[31m {[39m[22m
[1m[31m      errno: [33m-4078[39m[31m,[39m[22m
[1m[31m      code: [32m'ECONNREFUSED'[39m[31m,[39m[22m
[1m[31m      syscall: [32m'connect'[39m[31m,[39m[22m
[1m[31m      address: [32m'127.0.0.1'[39m[31m,[39m[22m
[1m[31m      port: [33m15432[39m[31m[39m[22m
[1m[31m    }[39m[22m
[1m[31m  ][39m[22m
[1m[31m}[39m[22m
[1m[31m[39m[22m
[1m[31m[31m[Nest] 30768  - [39m[31m02/11/2026, 10:10:28 AM [31m  ERROR[39m[31m [38;5;3m[HTTP] [39m[31m[31m{"event":"http_error","method":"POST","url":"/api/auth/login","status_code":201,"duration_ms":4,"user_id":"anonymous","user_role":"unknown","message":"","correlation_id":"272762e810cea2de53a2f","request_bytes":54}[39m[31m[39m[22m
[1m[31m[39m[22m
[1m[31m[31m[Nest] 30768  - [39m[31m02/11/2026, 10:10:28 AM [31m  ERROR[39m[31m [38;5;3m[ExceptionsHandler] [39m[31mAggregateError: [39m[22m
[1m[31m[90m    at internalConnectMultiple (node:net:1139:18)[39m[31m[39m[22m
[1m[31m[90m    at afterConnectMultiple (node:net:1712:7)[39m[31m {[39m[22m
[1m[31m  code: [32m'ECONNREFUSED'[39m[31m,[39m[22m
[1m[31m  [errors]: [[39m[22m
[1m[31m    Error: connect ECONNREFUSED ::1:15432[39m[22m
[1m[31m    [90m    at createConnectionError (node:net:1675:14)[39m[31m[39m[22m
[1m[31m    [90m    at afterConnectMultiple (node:net:1705:16)[39m[31m {[39m[22m
[1m[31m      errno: [33m-4078[39m[31m,[39m[22m
[1m[31m      code: [32m'ECONNREFUSED'[39m[31m,[39m[22m
[1m[31m      syscall: [32m'connect'[39m[31m,[39m[22m
[1m[31m      address: [32m'::1'[39m[31m,[39m[22m
[1m[31m      port: [33m15432[39m[31m[39m[22m
[1m[31m    },[39m[22m
[1m[31m    Error: connect ECONNREFUSED 127.0.0.1:15432[39m[22m
[1m[31m    [90m    at createConnectionError (node:net:1675:14)[39m[31m[39m[22m
[1m[31m    [90m    at afterConnectMultiple (node:net:1705:16)[39m[31m {[39m[22m
[1m[31m      errno: [33m-4078[39m[31m,[39m[22m
[1m[31m      code: [32m'ECONNREFUSED'[39m[31m,[39m[22m
[1m[31m      syscall: [32m'connect'[39m[31m,[39m[22m
[1m[31m      address: [32m'127.0.0.1'[39m[31m,[39m[22m
[1m[31m      port: [33m15432[39m[31m[39m[22m
[1m[31m    }[39m[22m
[1m[31m  ][39m[22m
[1m[31m}[39m[22m
[1m[31m[39m[22m
[1m[31m[31m[Nest] 30768  - [39m[31m02/11/2026, 10:10:28 AM [31m  ERROR[39m[31m [38;5;3m[HTTP] [39m[31m[31m{"event":"http_error","method":"POST","url":"/api/auth/register","status_code":201,"duration_ms":3,"user_id":"anonymous","user_role":"unknown","message":"","correlation_id":"272762e810cea2de53a2f","request_bytes":103}[39m[31m[39m[22m
[1m[31m[39m[22m
[1m[31m[31m[Nest] 30768  - [39m[31m02/11/2026, 10:10:28 AM [31m  ERROR[39m[31m [38;5;3m[ExceptionsHandler] [39m[31mAggregateError: [39m[22m
[1m[31m[90m    at internalConnectMultiple (node:net:1139:18)[39m[31m[39m[22m
[1m[31m[90m    at afterConnectMultiple (node:net:1712:7)[39m[31m {[39m[22m
[1m[31m  code: [32m'ECONNREFUSED'[39m[31m,[39m[22m
[1m[31m  [errors]: [[39m[22m
[1m[31m    Error: connect ECONNREFUSED ::1:15432[39m[22m
[1m[31m    [90m    at createConnectionError (node:net:1675:14)[39m[31m[39m[22m
[1m[31m    [90m    at afterConnectMultiple (node:net:1705:16)[39m[31m {[39m[22m
[1m[31m      errno: [33m-4078[39m[31m,[39m[22m
[1m[31m      code: [32m'ECONNREFUSED'[39m[31m,[39m[22m
[1m[31m      syscall: [32m'connect'[39m[31m,[39m[22m
[1m[31m      address: [32m'::1'[39m[31m,[39m[22m
[1m[31m      port: [33m15432[39m[31m[39m[22m
[1m[31m    },[39m[22m
[1m[31m    Error: connect ECONNREFUSED 127.0.0.1:15432[39m[22m
[1m[31m    [90m    at createConnectionError (node:net:1675:14)[39m[31m[39m[22m
[1m[31m    [90m    at afterConnectMultiple (node:net:1705:16)[39m[31m {[39m[22m
[1m[31m      errno: [33m-4078[39m[31m,[39m[22m
[1m[31m      code: [32m'ECONNREFUSED'[39m[31m,[39m[22m
[1m[31m      syscall: [32m'connect'[39m[31m,[39m[22m
[1m[31m      address: [32m'127.0.0.1'[39m[31m,[39m[22m
[1m[31m      port: [33m15432[39m[31m[39m[22m
[1m[31m    }[39m[22m
[1m[31m  ][39m[22m
[1m[31m}[39m[22m
[1m[31m[39m[22m
[1m[31m[31m[Nest] 30768  - [39m[31m02/11/2026, 10:10:28 AM [31m  ERROR[39m[31m [38;5;3m[HTTP] [39m[31m[31m{"event":"http_error","method":"POST","url":"/api/auth/login","status_code":201,"duration_ms":2,"user_id":"anonymous","user_role":"unknown","message":"","correlation_id":"272762e810cea2de53a2f","request_bytes":54}[39m[31m[39m[22m
[1m[31m[39m[22m
[1m[31m[31m[Nest] 30768  - [39m[31m02/11/2026, 10:10:28 AM [31m  ERROR[39m[31m [38;5;3m[ExceptionsHandler] [39m[31mAggregateError: [39m[22m
[1m[31m[90m    at internalConnectMultiple (node:net:1139:18)[39m[31m[39m[22m
[1m[31m[90m    at afterConnectMultiple (node:net:1712:7)[39m[31m {[39m[22m
[1m[31m  code: [32m'ECONNREFUSED'[39m[31m,[39m[22m
[1m[31m  [errors]: [[39m[22m
[1m[31m    Error: connect ECONNREFUSED ::1:15432[39m[22m
[1m[31m    [90m    at createConnectionError (node:net:1675:14)[39m[31m[39m[22m
[1m[31m    [90m    at afterConnectMultiple (node:net:1705:16)[39m[31m {[39m[22m
[1m[31m      errno: [33m-4078[39m[31m,[39m[22m
[1m[31m      code: [32m'ECONNREFUSED'[39m[31m,[39m[22m
[1m[31m      syscall: [32m'connect'[39m[31m,[39m[22m
[1m[31m      address: [32m'::1'[39m[31m,[39m[22m
[1m[31m      port: [33m15432[39m[31m[39m[22m
[1m[31m    },[39m[22m
[1m[31m    Error: connect ECONNREFUSED 127.0.0.1:15432[39m[22m
[1m[31m    [90m    at createConnectionError (node:net:1675:14)[39m[31m[39m[22m
[1m[31m    [90m    at afterConnectMultiple (node:net:1705:16)[39m[31m {[39m[22m
[1m[31m      errno: [33m-4078[39m[31m,[39m[22m
[1m[31m      code: [32m'ECONNREFUSED'[39m[31m,[39m[22m
[1m[31m      syscall: [32m'connect'[39m[31m,[39m[22m
[1m[31m      address: [32m'127.0.0.1'[39m[31m,[39m[22m
[1m[31m      port: [33m15432[39m[31m[39m[22m
[1m[31m    }[39m[22m
[1m[31m  ][39m[22m
[1m[31m}[39m[22m
[1m[31m[39m[22m
[1m[31m[31m[Nest] 30768  - [39m[31m02/11/2026, 10:10:28 AM [31m  ERROR[39m[31m [38;5;3m[HTTP] [39m[31m[31m{"event":"http_error","method":"POST","url":"/api/auth/login","status_code":201,"duration_ms":2,"user_id":"anonymous","user_role":"unknown","message":"","correlation_id":"272762e810cea2de53a2f","request_bytes":56}[39m[31m[39m[22m
[1m[31m[39m[22m
[1m[31m[31m[Nest] 30768  - [39m[31m02/11/2026, 10:10:28 AM [31m  ERROR[39m[31m [38;5;3m[ExceptionsHandler] [39m[31mAggregateError: [39m[22m
[1m[31m[90m    at internalConnectMultiple (node:net:1139:18)[39m[31m[39m[22m
[1m[31m[90m    at afterConnectMultiple (node:net:1712:7)[39m[31m {[39m[22m
[1m[31m  code: [32m'ECONNREFUSED'[39m[31m,[39m[22m
[1m[31m  [errors]: [[39m[22m
[1m[31m    Error: connect ECONNREFUSED ::1:15432[39m[22m
[1m[31m    [90m    at createConnectionError (node:net:1675:14)[39m[31m[39m[22m
[1m[31m    [90m    at afterConnectMultiple (node:net:1705:16)[39m[31m {[39m[22m
[1m[31m      errno: [33m-4078[39m[31m,[39m[22m
[1m[31m      code: [32m'ECONNREFUSED'[39m[31m,[39m[22m
[1m[31m      syscall: [32m'connect'[39m[31m,[39m[22m
[1m[31m      address: [32m'::1'[39m[31m,[39m[22m
[1m[31m      port: [33m15432[39m[31m[39m[22m
[1m[31m    },[39m[22m
[1m[31m    Error: connect ECONNREFUSED 127.0.0.1:15432[39m[22m
[1m[31m    [90m    at createConnectionError (node:net:1675:14)[39m[31m[39m[22m
[1m[31m    [90m    at afterConnectMultiple (node:net:1705:16)[39m[31m {[39m[22m
[1m[31m      errno: [33m-4078[39m[31m,[39m[22m
[1m[31m      code: [32m'ECONNREFUSED'[39m[31m,[39m[22m
[1m[31m      syscall: [32m'connect'[39m[31m,[39m[22m
[1m[31m      address: [32m'127.0.0.1'[39m[31m,[39m[22m
[1m[31m      port: [33m15432[39m[31m[39m[22m
[1m[31m    }[39m[22m
[1m[31m  ][39m[22m
[1m[31m}[39m[22m
[1m[31m[39m[22m
[1m[31m[31m[Nest] 30768  - [39m[31m02/11/2026, 10:10:28 AM [31m  ERROR[39m[31m [38;5;3m[HTTP] [39m[31m[31m{"event":"http_error","method":"POST","url":"/api/users","status_code":201,"duration_ms":2,"user_id":"anonymous","user_role":"unknown","message":"","correlation_id":"272762e810cea2de53a2f","request_bytes":154}[39m[31m[39m[22m
[1m[31m[39m[22m
[1m[31m[31m[Nest] 30768  - [39m[31m02/11/2026, 10:10:28 AM [31m  ERROR[39m[31m [38;5;3m[ExceptionsHandler] [39m[31mAggregateError: [39m[22m
[1m[31m[90m    at internalConnectMultiple (node:net:1139:18)[39m[31m[39m[22m
[1m[31m[90m    at afterConnectMultiple (node:net:1712:7)[39m[31m {[39m[22m
[1m[31m  code: [32m'ECONNREFUSED'[39m[31m,[39m[22m
[1m[31m  [errors]: [[39m[22m
[1m[31m    Error: connect ECONNREFUSED ::1:15432[39m[22m
[1m[31m    [90m    at createConnectionError (node:net:1675:14)[39m[31m[39m[22m
[1m[31m    [90m    at afterConnectMultiple (node:net:1705:16)[39m[31m {[39m[22m
[1m[31m      errno: [33m-4078[39m[31m,[39m[22m
[1m[31m      code: [32m'ECONNREFUSED'[39m[31m,[39m[22m
[1m[31m      syscall: [32m'connect'[39m[31m,[39m[22m
[1m[31m      address: [32m'::1'[39m[31m,[39m[22m
[1m[31m      port: [33m15432[39m[31m[39m[22m
[1m[31m    },[39m[22m
[1m[31m    Error: connect ECONNREFUSED 127.0.0.1:15432[39m[22m
[1m[31m    [90m    at createConnectionError (node:net:1675:14)[39m[31m[39m[22m
[1m[31m    [90m    at afterConnectMultiple (node:net:1705:16)[39m[31m {[39m[22m
[1m[31m      errno: [33m-4078[39m[31m,[39m[22m
[1m[31m      code: [32m'ECONNREFUSED'[39m[31m,[39m[22m
[1m[31m      syscall: [32m'connect'[39m[31m,[39m[22m
[1m[31m      address: [32m'127.0.0.1'[39m[31m,[39m[22m
[1m[31m      port: [33m15432[39m[31m[39m[22m
[1m[31m    }[39m[22m
[1m[31m  ][39m[22m
[1m[31m}[39m[22m
[1m[31m[39m[22m
[1m[31m[31m[Nest] 30768  - [39m[31m02/11/2026, 10:10:28 AM [31m  ERROR[39m[31m [38;5;3m[HTTP] [39m[31m[31m{"event":"http_error","method":"POST","url":"/api/view/state","status_code":201,"duration_ms":2,"user_id":"anonymous","user_role":"unknown","message":"","correlation_id":"272762e810cea2de53a2f","request_bytes":61}[39m[31m[39m[22m
[1m[31m[39m[22m
[1m[31m[31m[Nest] 30768  - [39m[31m02/11/2026, 10:10:28 AM [31m  ERROR[39m[31m [38;5;3m[ExceptionsHandler] [39m[31mAggregateError: [39m[22m
[1m[31m[90m    at internalConnectMultiple (node:net:1139:18)[39m[31m[39m[22m
[1m[31m[90m    at afterConnectMultiple (node:net:1712:7)[39m[31m {[39m[22m
[1m[31m  code: [32m'ECONNREFUSED'[39m[31m,[39m[22m
[1m[31m  [errors]: [[39m[22m
[1m[31m    Error: connect ECONNREFUSED ::1:15432[39m[22m
[1m[31m    [90m    at createConnectionError (node:net:1675:14)[39m[31m[39m[22m
[1m[31m    [90m    at afterConnectMultiple (node:net:1705:16)[39m[31m {[39m[22m
[1m[31m      errno: [33m-4078[39m[31m,[39m[22m
[1m[31m      code: [32m'ECONNREFUSED'[39m[31m,[39m[22m
[1m[31m      syscall: [32m'connect'[39m[31m,[39m[22m
[1m[31m      address: [32m'::1'[39m[31m,[39m[22m
[1m[31m      port: [33m15432[39m[31m[39m[22m
[1m[31m    },[39m[22m
[1m[31m    Error: connect ECONNREFUSED 127.0.0.1:15432[39m[22m
[1m[31m    [90m    at createConnectionError (node:net:1675:14)[39m[31m[39m[22m
[1m[31m    [90m    at afterConnectMultiple (node:net:1705:16)[39m[31m {[39m[22m
[1m[31m      errno: [33m-4078[39m[31m,[39m[22m
[1m[31m      code: [32m'ECONNREFUSED'[39m[31m,[39m[22m
[1m[31m      syscall: [32m'connect'[39m[31m,[39m[22m
[1m[31m      address: [32m'127.0.0.1'[39m[31m,[39m[22m
[1m[31m      port: [33m15432[39m[31m[39m[22m
[1m[31m    }[39m[22m
[1m[31m  ][39m[22m
[1m[31m}[39m[22m
[1m[31m[39m[22m
[0m[7m[1m[31m FAIL [39m[22m[27m[0m [0m[7m[37m vlass-api-e2e [39m[27m[0m [2mapps/vlass-api-e2e/src/vlass-api/[22m[1mephemeris.spec.ts[22m
[1m[31m  [1mâ— [22m[1mephemeris e2e â€º GET /api/view/ephem/search returns Mars position[39m[22m
    AxiosError: Request failed with status code 500
[2m[22m
[2m    [0m [90m  5 |[39m[22m
[2m     [90m  6 |[39m   beforeAll([36masync[39m () [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m  7 |[39m     [36mconst[39m loginRes [33m=[39m [36mawait[39m axios[33m.[39mpost([32m'/api/auth/login'[39m[33m,[39m {[22m
[2m     [90m    |[39m                      [31m[1m^[22m[2m[39m[22m
[2m     [90m  8 |[39m       email[33m:[39m [32m'test@vlass.local'[39m[33m,[39m[22m
[2m     [90m  9 |[39m       password[33m:[39m [32m'Password123!'[39m[33m,[39m[22m
[2m     [90m 10 |[39m     })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat settle ([22m[2m../../node_modules/.pnpm/axios@1.13.5/node_modules/axios/lib/core/settle.js[2m:19:12)[22m[2m[22m
[2m      [2mat IncomingMessage.handleStreamEnd ([22m[2m../../node_modules/.pnpm/axios@1.13.5/node_modules/axios/lib/adapters/http.js[2m:798:11)[22m[2m[22m
[2m      [2mat Axios.request ([22m[2m../../node_modules/.pnpm/axios@1.13.5/node_modules/axios/lib/core/Axios.js[2m:46:41)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/vlass-api/ephemeris.spec.ts[39m[0m[2m:7:22)[22m[2m[22m
[1m[31m  [1mâ— [22m[1mephemeris e2e â€º verifies cache hit on subsequent request[39m[22m
    AxiosError: Request failed with status code 500
[2m[22m
[2m    [0m [90m  5 |[39m[22m
[2m     [90m  6 |[39m   beforeAll([36masync[39m () [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m  7 |[39m     [36mconst[39m loginRes [33m=[39m [36mawait[39m axios[33m.[39mpost([32m'/api/auth/login'[39m[33m,[39m {[22m
[2m     [90m    |[39m                      [31m[1m^[22m[2m[39m[22m
[2m     [90m  8 |[39m       email[33m:[39m [32m'test@vlass.local'[39m[33m,[39m[22m
[2m     [90m  9 |[39m       password[33m:[39m [32m'Password123!'[39m[33m,[39m[22m
[2m     [90m 10 |[39m     })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat settle ([22m[2m../../node_modules/.pnpm/axios@1.13.5/node_modules/axios/lib/core/settle.js[2m:19:12)[22m[2m[22m
[2m      [2mat IncomingMessage.handleStreamEnd ([22m[2m../../node_modules/.pnpm/axios@1.13.5/node_modules/axios/lib/adapters/http.js[2m:798:11)[22m[2m[22m
[2m      [2mat Axios.request ([22m[2m../../node_modules/.pnpm/axios@1.13.5/node_modules/axios/lib/core/Axios.js[2m:46:41)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/vlass-api/ephemeris.spec.ts[39m[0m[2m:7:22)[22m[2m[22m
[1m[31m  [1mâ— [22m[1mephemeris e2e â€º GET /api/view/ephem/search returns asteroid position (JPL fallback)[39m[22m
    AxiosError: Request failed with status code 500
[2m[22m
[2m    [0m [90m  5 |[39m[22m
[2m     [90m  6 |[39m   beforeAll([36masync[39m () [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m  7 |[39m     [36mconst[39m loginRes [33m=[39m [36mawait[39m axios[33m.[39mpost([32m'/api/auth/login'[39m[33m,[39m {[22m
[2m     [90m    |[39m                      [31m[1m^[22m[2m[39m[22m
[2m     [90m  8 |[39m       email[33m:[39m [32m'test@vlass.local'[39m[33m,[39m[22m
[2m     [90m  9 |[39m       password[33m:[39m [32m'Password123!'[39m[33m,[39m[22m
[2m     [90m 10 |[39m     })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat settle ([22m[2m../../node_modules/.pnpm/axios@1.13.5/node_modules/axios/lib/core/settle.js[2m:19:12)[22m[2m[22m
[2m      [2mat IncomingMessage.handleStreamEnd ([22m[2m../../node_modules/.pnpm/axios@1.13.5/node_modules/axios/lib/adapters/http.js[2m:798:11)[22m[2m[22m
[2m      [2mat Axios.request ([22m[2m../../node_modules/.pnpm/axios@1.13.5/node_modules/axios/lib/core/Axios.js[2m:46:41)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/vlass-api/ephemeris.spec.ts[39m[0m[2m:7:22)[22m[2m[22m
[1m[31m  [1mâ— [22m[1mephemeris e2e â€º GET /api/view/ephem/search returns 404 for nonexistent objects[39m[22m
    AxiosError: Request failed with status code 500
[2m[22m
[2m    [0m [90m  5 |[39m[22m
[2m     [90m  6 |[39m   beforeAll([36masync[39m () [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m  7 |[39m     [36mconst[39m loginRes [33m=[39m [36mawait[39m axios[33m.[39mpost([32m'/api/auth/login'[39m[33m,[39m {[22m
[2m     [90m    |[39m                      [31m[1m^[22m[2m[39m[22m
[2m     [90m  8 |[39m       email[33m:[39m [32m'test@vlass.local'[39m[33m,[39m[22m
[2m     [90m  9 |[39m       password[33m:[39m [32m'Password123!'[39m[33m,[39m[22m
[2m     [90m 10 |[39m     })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat settle ([22m[2m../../node_modules/.pnpm/axios@1.13.5/node_modules/axios/lib/core/settle.js[2m:19:12)[22m[2m[22m
[2m      [2mat IncomingMessage.handleStreamEnd ([22m[2m../../node_modules/.pnpm/axios@1.13.5/node_modules/axios/lib/adapters/http.js[2m:798:11)[22m[2m[22m
[2m      [2mat Axios.request ([22m[2m../../node_modules/.pnpm/axios@1.13.5/node_modules/axios/lib/core/Axios.js[2m:46:41)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/vlass-api/ephemeris.spec.ts[39m[0m[2m:7:22)[22m[2m[22m
[1m[31m  [1mâ— [22m[1mephemeris e2e â€º GET /api/view/ephem/search returns 401 when unauthorized[39m[22m
    AxiosError: Request failed with status code 500
[2m[22m
[2m    [0m [90m  5 |[39m[22m
[2m     [90m  6 |[39m   beforeAll([36masync[39m () [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m  7 |[39m     [36mconst[39m loginRes [33m=[39m [36mawait[39m axios[33m.[39mpost([32m'/api/auth/login'[39m[33m,[39m {[22m
[2m     [90m    |[39m                      [31m[1m^[22m[2m[39m[22m
[2m     [90m  8 |[39m       email[33m:[39m [32m'test@vlass.local'[39m[33m,[39m[22m
[2m     [90m  9 |[39m       password[33m:[39m [32m'Password123!'[39m[33m,[39m[22m
[2m     [90m 10 |[39m     })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat settle ([22m[2m../../node_modules/.pnpm/axios@1.13.5/node_modules/axios/lib/core/settle.js[2m:19:12)[22m[2m[22m
[2m      [2mat IncomingMessage.handleStreamEnd ([22m[2m../../node_modules/.pnpm/axios@1.13.5/node_modules/axios/lib/adapters/http.js[2m:798:11)[22m[2m[22m
[2m      [2mat Axios.request ([22m[2m../../node_modules/.pnpm/axios@1.13.5/node_modules/axios/lib/core/Axios.js[2m:46:41)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/vlass-api/ephemeris.spec.ts[39m[0m[2m:7:22)[22m[2m[22m
[0m[7m[1m[31m FAIL [39m[22m[27m[0m [0m[7m[37m vlass-api-e2e [39m[27m[0m [2mapps/vlass-api-e2e/src/vlass-api/[22m[1mcomments.spec.ts[22m
[1m[31m  [1mâ— [22m[1mcomments e2e â€º POST /api/comments creates a new comment[39m[22m
    AxiosError: Request failed with status code 500
[2m[22m
[2m    [0m [90m  7 |[39m   beforeAll([36masync[39m () [33m=>[39m {[22m
[2m     [90m  8 |[39m     [90m// Login as test user[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m  9 |[39m     [36mconst[39m loginRes [33m=[39m [36mawait[39m axios[33m.[39mpost([32m'/api/auth/login'[39m[33m,[39m {[22m
[2m     [90m    |[39m                      [31m[1m^[22m[2m[39m[22m
[2m     [90m 10 |[39m       email[33m:[39m [32m'test@vlass.local'[39m[33m,[39m[22m
[2m     [90m 11 |[39m       password[33m:[39m [32m'Password123!'[39m[33m,[39m[22m
[2m     [90m 12 |[39m     })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat settle ([22m[2m../../node_modules/.pnpm/axios@1.13.5/node_modules/axios/lib/core/settle.js[2m:19:12)[22m[2m[22m
[2m      [2mat IncomingMessage.handleStreamEnd ([22m[2m../../node_modules/.pnpm/axios@1.13.5/node_modules/axios/lib/adapters/http.js[2m:798:11)[22m[2m[22m
[2m      [2mat Axios.request ([22m[2m../../node_modules/.pnpm/axios@1.13.5/node_modules/axios/lib/core/Axios.js[2m:46:41)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/vlass-api/comments.spec.ts[39m[0m[2m:9:22)[22m[2m[22m
[1m[31m  [1mâ— [22m[1mcomments e2e â€º POST /api/comments creates a reply to a comment[39m[22m
    AxiosError: Request failed with status code 500
[2m[22m
[2m    [0m [90m  7 |[39m   beforeAll([36masync[39m () [33m=>[39m {[22m
[2m     [90m  8 |[39m     [90m// Login as test user[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m  9 |[39m     [36mconst[39m loginRes [33m=[39m [36mawait[39m axios[33m.[39mpost([32m'/api/auth/login'[39m[33m,[39m {[22m
[2m     [90m    |[39m                      [31m[1m^[22m[2m[39m[22m
[2m     [90m 10 |[39m       email[33m:[39m [32m'test@vlass.local'[39m[33m,[39m[22m
[2m     [90m 11 |[39m       password[33m:[39m [32m'Password123!'[39m[33m,[39m[22m
[2m     [90m 12 |[39m     })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat settle ([22m[2m../../node_modules/.pnpm/axios@1.13.5/node_modules/axios/lib/core/settle.js[2m:19:12)[22m[2m[22m
[2m      [2mat IncomingMessage.handleStreamEnd ([22m[2m../../node_modules/.pnpm/axios@1.13.5/node_modules/axios/lib/adapters/http.js[2m:798:11)[22m[2m[22m
[2m      [2mat Axios.request ([22m[2m../../node_modules/.pnpm/axios@1.13.5/node_modules/axios/lib/core/Axios.js[2m:46:41)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/vlass-api/comments.spec.ts[39m[0m[2m:9:22)[22m[2m[22m
[1m[31m  [1mâ— [22m[1mcomments e2e â€º GET /api/comments/post/:postId returns all comments for a post[39m[22m
    AxiosError: Request failed with status code 500
[2m[22m
[2m    [0m [90m  7 |[39m   beforeAll([36masync[39m () [33m=>[39m {[22m
[2m     [90m  8 |[39m     [90m// Login as test user[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m  9 |[39m     [36mconst[39m loginRes [33m=[39m [36mawait[39m axios[33m.[39mpost([32m'/api/auth/login'[39m[33m,[39m {[22m
[2m     [90m    |[39m                      [31m[1m^[22m[2m[39m[22m
[2m     [90m 10 |[39m       email[33m:[39m [32m'test@vlass.local'[39m[33m,[39m[22m
[2m     [90m 11 |[39m       password[33m:[39m [32m'Password123!'[39m[33m,[39m[22m
[2m     [90m 12 |[39m     })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat settle ([22m[2m../../node_modules/.pnpm/axios@1.13.5/node_modules/axios/lib/core/settle.js[2m:19:12)[22m[2m[22m
[2m      [2mat IncomingMessage.handleStreamEnd ([22m[2m../../node_modules/.pnpm/axios@1.13.5/node_modules/axios/lib/adapters/http.js[2m:798:11)[22m[2m[22m
[2m      [2mat Axios.request ([22m[2m../../node_modules/.pnpm/axios@1.13.5/node_modules/axios/lib/core/Axios.js[2m:46:41)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/vlass-api/comments.spec.ts[39m[0m[2m:9:22)[22m[2m[22m
[1m[31m  [1mâ— [22m[1mcomments e2e â€º PUT /api/comments/:id updates a comment[39m[22m
    AxiosError: Request failed with status code 500
[2m[22m
[2m    [0m [90m  7 |[39m   beforeAll([36masync[39m () [33m=>[39m {[22m
[2m     [90m  8 |[39m     [90m// Login as test user[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m  9 |[39m     [36mconst[39m loginRes [33m=[39m [36mawait[39m axios[33m.[39mpost([32m'/api/auth/login'[39m[33m,[39m {[22m
[2m     [90m    |[39m                      [31m[1m^[22m[2m[39m[22m
[2m     [90m 10 |[39m       email[33m:[39m [32m'test@vlass.local'[39m[33m,[39m[22m
[2m     [90m 11 |[39m       password[33m:[39m [32m'Password123!'[39m[33m,[39m[22m
[2m     [90m 12 |[39m     })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat settle ([22m[2m../../node_modules/.pnpm/axios@1.13.5/node_modules/axios/lib/core/settle.js[2m:19:12)[22m[2m[22m
[2m      [2mat IncomingMessage.handleStreamEnd ([22m[2m../../node_modules/.pnpm/axios@1.13.5/node_modules/axios/lib/adapters/http.js[2m:798:11)[22m[2m[22m
[2m      [2mat Axios.request ([22m[2m../../node_modules/.pnpm/axios@1.13.5/node_modules/axios/lib/core/Axios.js[2m:46:41)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/vlass-api/comments.spec.ts[39m[0m[2m:9:22)[22m[2m[22m
[1m[31m  [1mâ— [22m[1mcomments e2e â€º DELETE /api/comments/:id removes a comment[39m[22m
    AxiosError: Request failed with status code 500
[2m[22m
[2m    [0m [90m  7 |[39m   beforeAll([36masync[39m () [33m=>[39m {[22m
[2m     [90m  8 |[39m     [90m// Login as test user[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m  9 |[39m     [36mconst[39m loginRes [33m=[39m [36mawait[39m axios[33m.[39mpost([32m'/api/auth/login'[39m[33m,[39m {[22m
[2m     [90m    |[39m                      [31m[1m^[22m[2m[39m[22m
[2m     [90m 10 |[39m       email[33m:[39m [32m'test@vlass.local'[39m[33m,[39m[22m
[2m     [90m 11 |[39m       password[33m:[39m [32m'Password123!'[39m[33m,[39m[22m
[2m     [90m 12 |[39m     })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat settle ([22m[2m../../node_modules/.pnpm/axios@1.13.5/node_modules/axios/lib/core/settle.js[2m:19:12)[22m[2m[22m
[2m      [2mat IncomingMessage.handleStreamEnd ([22m[2m../../node_modules/.pnpm/axios@1.13.5/node_modules/axios/lib/adapters/http.js[2m:798:11)[22m[2m[22m
[2m      [2mat Axios.request ([22m[2m../../node_modules/.pnpm/axios@1.13.5/node_modules/axios/lib/core/Axios.js[2m:46:41)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/vlass-api/comments.spec.ts[39m[0m[2m:9:22)[22m[2m[22m
[1m[31m[31m[Nest] 30768  - [39m[31m02/11/2026, 10:10:28 AM [31m  ERROR[39m[31m [38;5;3m[HTTP] [39m[31m[31m{"event":"http_error","method":"POST","url":"/api/view/state","status_code":201,"duration_ms":1,"user_id":"anonymous","user_role":"unknown","message":"","correlation_id":"272762e810cea2de53a2f","request_bytes":74}[39m[31m[39m[22m
[1m[31m[39m[22m
[1m[31m[31m[Nest] 30768  - [39m[31m02/11/2026, 10:10:28 AM [31m  ERROR[39m[31m [38;5;3m[ExceptionsHandler] [39m[31mAggregateError: [39m[22m
[1m[31m[90m    at internalConnectMultiple (node:net:1139:18)[39m[31m[39m[22m
[1m[31m[90m    at afterConnectMultiple (node:net:1712:7)[39m[31m {[39m[22m
[1m[31m  code: [32m'ECONNREFUSED'[39m[31m,[39m[22m
[1m[31m  [errors]: [[39m[22m
[1m[31m    Error: connect ECONNREFUSED ::1:15432[39m[22m
[1m[31m    [90m    at createConnectionError (node:net:1675:14)[39m[31m[39m[22m
[1m[31m    [90m    at afterConnectMultiple (node:net:1705:16)[39m[31m {[39m[22m
[1m[31m      errno: [33m-4078[39m[31m,[39m[22m
[1m[31m      code: [32m'ECONNREFUSED'[39m[31m,[39m[22m
[1m[31m      syscall: [32m'connect'[39m[31m,[39m[22m
[1m[31m      address: [32m'::1'[39m[31m,[39m[22m
[1m[31m      port: [33m15432[39m[31m[39m[22m
[1m[31m    },[39m[22m
[1m[31m    Error: connect ECONNREFUSED 127.0.0.1:15432[39m[22m
[1m[31m    [90m    at createConnectionError (node:net:1675:14)[39m[31m[39m[22m
[1m[31m    [90m    at afterConnectMultiple (node:net:1705:16)[39m[31m {[39m[22m
[1m[31m      errno: [33m-4078[39m[31m,[39m[22m
[1m[31m      code: [32m'ECONNREFUSED'[39m[31m,[39m[22m
[1m[31m      syscall: [32m'connect'[39m[31m,[39m[22m
[1m[31m      address: [32m'127.0.0.1'[39m[31m,[39m[22m
[1m[31m      port: [33m15432[39m[31m[39m[22m
[1m[31m    }[39m[22m
[1m[31m  ][39m[22m
[1m[31m}[39m[22m
[1m[31m[39m[22m
[1m[31m[31m[Nest] 30768  - [39m[31m02/11/2026, 10:10:28 AM [31m  ERROR[39m[31m [38;5;3m[HTTP] [39m[31m[31m{"event":"http_error","method":"POST","url":"/api/view/snapshot","status_code":201,"duration_ms":4,"user_id":"anonymous","user_role":"unknown","message":"","correlation_id":"272762e810cea2de53a2f","request_bytes":195}[39m[31m[39m[22m
[1m[31m[39m[22m
[1m[31m[31m[Nest] 30768  - [39m[31m02/11/2026, 10:10:28 AM [31m  ERROR[39m[31m [38;5;3m[ExceptionsHandler] [39m[31mAggregateError: [39m[22m
[1m[31m[90m    at internalConnectMultiple (node:net:1139:18)[39m[31m[39m[22m
[1m[31m[90m    at afterConnectMultiple (node:net:1712:7)[39m[31m {[39m[22m
[1m[31m  code: [32m'ECONNREFUSED'[39m[31m,[39m[22m
[1m[31m  [errors]: [[39m[22m
[1m[31m    Error: connect ECONNREFUSED ::1:15432[39m[22m
[1m[31m    [90m    at createConnectionError (node:net:1675:14)[39m[31m[39m[22m
[1m[31m    [90m    at afterConnectMultiple (node:net:1705:16)[39m[31m {[39m[22m
[1m[31m      errno: [33m-4078[39m[31m,[39m[22m
[1m[31m      code: [32m'ECONNREFUSED'[39m[31m,[39m[22m
[1m[31m      syscall: [32m'connect'[39m[31m,[39m[22m
[1m[31m      address: [32m'::1'[39m[31m,[39m[22m
[1m[31m      port: [33m15432[39m[31m[39m[22m
[1m[31m    },[39m[22m
[1m[31m    Error: connect ECONNREFUSED 127.0.0.1:15432[39m[22m
[1m[31m    [90m    at createConnectionError (node:net:1675:14)[39m[31m[39m[22m
[1m[31m    [90m    at afterConnectMultiple (node:net:1705:16)[39m[31m {[39m[22m
[1m[31m      errno: [33m-4078[39m[31m,[39m[22m
[1m[31m      code: [32m'ECONNREFUSED'[39m[31m,[39m[22m
[1m[31m      syscall: [32m'connect'[39m[31m,[39m[22m
[1m[31m      address: [32m'127.0.0.1'[39m[31m,[39m[22m
[1m[31m      port: [33m15432[39m[31m[39m[22m
[1m[31m    }[39m[22m
[1m[31m  ][39m[22m
[1m[31m}[39m[22m
[1m[31m[39m[22m
[1m[31m[31m[Nest] 30768  - [39m[31m02/11/2026, 10:10:28 AM [31m  ERROR[39m[31m [38;5;3m[HTTP] [39m[31m[31m{"event":"http_error","method":"GET","url":"/api/view/cutout?ra=10&dec=5&fov=0&survey=VLASS","status_code":400,"duration_ms":1,"user_id":"anonymous","user_role":"unknown","message":"FOV must be a finite number in (0, 180].","correlation_id":"272762e810cea2de53a2f","request_bytes":null}[39m[31m[39m[22m
[1m[31m[39m[22m
[1m[31m[31m[Nest] 30768  - [39m[31m02/11/2026, 10:10:28 AM [31m  ERROR[39m[31m [38;5;3m[HTTP] [39m[31m[31m{"event":"http_error","method":"GET","url":"/api/view/labels/nearby?ra=10&dec=5&radius=0","status_code":400,"duration_ms":0,"user_id":"anonymous","user_role":"unknown","message":"radius must be in (0, 2].","correlation_id":"272762e810cea2de53a2f","request_bytes":null}[39m[31m[39m[22m
[1m[31m[39m[22m
[1m[31m[31m[Nest] 30768  - [39m[31m02/11/2026, 10:10:28 AM [31m  ERROR[39m[31m [38;5;3m[HTTP] [39m[31m[31m{"event":"http_error","method":"POST","url":"/api/auth/register","status_code":201,"duration_ms":2,"user_id":"anonymous","user_role":"unknown","message":"","correlation_id":"272762e810cea2de53a2f","request_bytes":112}[39m[31m[39m[22m
[1m[31m[39m[22m
[1m[31m[31m[Nest] 30768  - [39m[31m02/11/2026, 10:10:28 AM [31m  ERROR[39m[31m [38;5;3m[ExceptionsHandler] [39m[31mAggregateError: [39m[22m
[1m[31m[90m    at internalConnectMultiple (node:net:1139:18)[39m[31m[39m[22m
[1m[31m[90m    at afterConnectMultiple (node:net:1712:7)[39m[31m {[39m[22m
[1m[31m  code: [32m'ECONNREFUSED'[39m[31m,[39m[22m
[1m[31m  [errors]: [[39m[22m
[1m[31m    Error: connect ECONNREFUSED ::1:15432[39m[22m
[1m[31m    [90m    at createConnectionError (node:net:1675:14)[39m[31m[39m[22m
[1m[31m    [90m    at afterConnectMultiple (node:net:1705:16)[39m[31m {[39m[22m
[1m[31m      errno: [33m-4078[39m[31m,[39m[22m
[1m[31m      code: [32m'ECONNREFUSED'[39m[31m,[39m[22m
[1m[31m      syscall: [32m'connect'[39m[31m,[39m[22m
[1m[31m      address: [32m'::1'[39m[31m,[39m[22m
[1m[31m      port: [33m15432[39m[31m[39m[22m
[1m[31m    },[39m[22m
[1m[31m    Error: connect ECONNREFUSED 127.0.0.1:15432[39m[22m
[1m[31m    [90m    at createConnectionError (node:net:1675:14)[39m[31m[39m[22m
[1m[31m    [90m    at afterConnectMultiple (node:net:1705:16)[39m[31m {[39m[22m
[1m[31m      errno: [33m-4078[39m[31m,[39m[22m
[1m[31m      code: [32m'ECONNREFUSED'[39m[31m,[39m[22m
[1m[31m      syscall: [32m'connect'[39m[31m,[39m[22m
[1m[31m      address: [32m'127.0.0.1'[39m[31m,[39m[22m
[1m[31m      port: [33m15432[39m[31m[39m[22m
[1m[31m    }[39m[22m
[1m[31m  ][39m[22m
[1m[31m}[39m[22m
[1m[31m[39m[22m
[1m[31m[31m[Nest] 30768  - [39m[31m02/11/2026, 10:10:28 AM [31m  ERROR[39m[31m [38;5;3m[HTTP] [39m[31m[31m{"event":"http_error","method":"POST","url":"/api/auth/register","status_code":201,"duration_ms":1,"user_id":"anonymous","user_role":"unknown","message":"","correlation_id":"272762e810cea2de53a2f","request_bytes":114}[39m[31m[39m[22m
[1m[31m[39m[22m
[1m[31m[31m[Nest] 30768  - [39m[31m02/11/2026, 10:10:28 AM [31m  ERROR[39m[31m [38;5;3m[ExceptionsHandler] [39m[31mAggregateError: [39m[22m
[1m[31m[90m    at internalConnectMultiple (node:net:1139:18)[39m[31m[39m[22m
[1m[31m[90m    at afterConnectMultiple (node:net:1712:7)[39m[31m {[39m[22m
[1m[31m  code: [32m'ECONNREFUSED'[39m[31m,[39m[22m
[1m[31m  [errors]: [[39m[22m
[1m[31m    Error: connect ECONNREFUSED ::1:15432[39m[22m
[1m[31m    [90m    at createConnectionError (node:net:1675:14)[39m[31m[39m[22m
[1m[31m    [90m    at afterConnectMultiple (node:net:1705:16)[39m[31m {[39m[22m
[1m[31m      errno: [33m-4078[39m[31m,[39m[22m
[1m[31m      code: [32m'ECONNREFUSED'[39m[31m,[39m[22m
[1m[31m      syscall: [32m'connect'[39m[31m,[39m[22m
[1m[31m      address: [32m'::1'[39m[31m,[39m[22m
[1m[31m      port: [33m15432[39m[31m[39m[22m
[1m[31m    },[39m[22m
[1m[31m    Error: connect ECONNREFUSED 127.0.0.1:15432[39m[22m
[1m[31m    [90m    at createConnectionError (node:net:1675:14)[39m[31m[39m[22m
[1m[31m    [90m    at afterConnectMultiple (node:net:1705:16)[39m[31m {[39m[22m
[1m[31m      errno: [33m-4078[39m[31m,[39m[22m
[1m[31m      code: [32m'ECONNREFUSED'[39m[31m,[39m[22m
[1m[31m      syscall: [32m'connect'[39m[31m,[39m[22m
[1m[31m      address: [32m'127.0.0.1'[39m[31m,[39m[22m
[1m[31m      port: [33m15432[39m[31m[39m[22m
[1m[31m    }[39m[22m
[1m[31m  ][39m[22m
[1m[31m}[39m[22m
[1m[31m[39m[22m
[1m[31m[31m[Nest] 30768  - [39m[31m02/11/2026, 10:10:28 AM [31m  ERROR[39m[31m [38;5;3m[HTTP] [39m[31m[31m{"event":"http_error","method":"POST","url":"/api/auth/register","status_code":201,"duration_ms":1,"user_id":"anonymous","user_role":"unknown","message":"","correlation_id":"272762e810cea2de53a2f","request_bytes":114}[39m[31m[39m[22m
[1m[31m[39m[22m
[1m[31m[31m[Nest] 30768  - [39m[31m02/11/2026, 10:10:28 AM [31m  ERROR[39m[31m [38;5;3m[ExceptionsHandler] [39m[31mAggregateError: [39m[22m
[1m[31m[90m    at internalConnectMultiple (node:net:1139:18)[39m[31m[39m[22m
[1m[31m[90m    at afterConnectMultiple (node:net:1712:7)[39m[31m {[39m[22m
[1m[31m  code: [32m'ECONNREFUSED'[39m[31m,[39m[22m
[1m[31m  [errors]: [[39m[22m
[1m[31m    Error: connect ECONNREFUSED ::1:15432[39m[22m
[1m[31m    [90m    at createConnectionError (node:net:1675:14)[39m[31m[39m[22m
[1m[31m    [90m    at afterConnectMultiple (node:net:1705:16)[39m[31m {[39m[22m
[1m[31m      errno: [33m-4078[39m[31m,[39m[22m
[1m[31m      code: [32m'ECONNREFUSED'[39m[31m,[39m[22m
[1m[31m      syscall: [32m'connect'[39m[31m,[39m[22m
[1m[31m      address: [32m'::1'[39m[31m,[39m[22m
[1m[31m      port: [33m15432[39m[31m[39m[22m
[1m[31m    },[39m[22m
[1m[31m    Error: connect ECONNREFUSED 127.0.0.1:15432[39m[22m
[1m[31m    [90m    at createConnectionError (node:net:1675:14)[39m[31m[39m[22m
[1m[31m    [90m    at afterConnectMultiple (node:net:1705:16)[39m[31m {[39m[22m
[1m[31m      errno: [33m-4078[39m[31m,[39m[22m
[1m[31m      code: [32m'ECONNREFUSED'[39m[31m,[39m[22m
[1m[31m      syscall: [32m'connect'[39m[31m,[39m[22m
[1m[31m      address: [32m'127.0.0.1'[39m[31m,[39m[22m
[1m[31m      port: [33m15432[39m[31m[39m[22m
[1m[31m    }[39m[22m
[1m[31m  ][39m[22m
[1m[31m}[39m[22m
[1m[31m[39m[22m
[0m[7m[1m[31m FAIL [39m[22m[27m[0m [0m[7m[37m vlass-api-e2e [39m[27m[0m [2mapps/vlass-api-e2e/src/vlass-api/[22m[1mvlass-api.spec.ts[22m
[1m[31m  [1mâ— [22m[1mvlass-api e2e â€º auth login â€º POST /api/auth/register creates account and returns token[39m[22m
    AxiosError: Request failed with status code 500
[2m[22m
[2m    [0m [90m 24 |[39m     it([32m'POST /api/auth/register creates account and returns token'[39m[33m,[39m [36masync[39m () [33m=>[39m {[22m
[2m     [90m 25 |[39m       [36mconst[39m nonce [33m=[39m [33mDate[39m[33m.[39mnow()[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 26 |[39m       [36mconst[39m response [33m=[39m [36mawait[39m axios[33m.[39mpost([32m'/api/auth/register'[39m[33m,[39m {[22m
[2m     [90m    |[39m                        [31m[1m^[22m[2m[39m[22m
[2m     [90m 27 |[39m         username[33m:[39m [32m`new_user_${nonce}`[39m[33m,[39m[22m
[2m     [90m 28 |[39m         email[33m:[39m [32m`new_${nonce}@vlass.local`[39m[33m,[39m[22m
[2m     [90m 29 |[39m         password[33m:[39m [32m'Password123!'[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat settle ([22m[2m../../node_modules/.pnpm/axios@1.13.5/node_modules/axios/lib/core/settle.js[2m:19:12)[22m[2m[22m
[2m      [2mat IncomingMessage.handleStreamEnd ([22m[2m../../node_modules/.pnpm/axios@1.13.5/node_modules/axios/lib/adapters/http.js[2m:798:11)[22m[2m[22m
[2m      [2mat Axios.request ([22m[2m../../node_modules/.pnpm/axios@1.13.5/node_modules/axios/lib/core/Axios.js[2m:46:41)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/vlass-api/vlass-api.spec.ts[39m[0m[2m:26:24)[22m[2m[22m
[1m[31m  [1mâ— [22m[1mvlass-api e2e â€º auth login â€º POST /api/auth/login returns token for seeded user[39m[22m
    AxiosError: Request failed with status code 500
[2m[22m
[2m    [0m [90m 39 |[39m[22m
[2m     [90m 40 |[39m     it([32m'POST /api/auth/login returns token for seeded user'[39m[33m,[39m [36masync[39m () [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 41 |[39m       [36mconst[39m response [33m=[39m [36mawait[39m axios[33m.[39mpost([32m'/api/auth/login'[39m[33m,[39m {[22m
[2m     [90m    |[39m                        [31m[1m^[22m[2m[39m[22m
[2m     [90m 42 |[39m         email[33m:[39m [32m'test@vlass.local'[39m[33m,[39m[22m
[2m     [90m 43 |[39m         password[33m:[39m [32m'Password123!'[39m[33m,[39m[22m
[2m     [90m 44 |[39m       })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat settle ([22m[2m../../node_modules/.pnpm/axios@1.13.5/node_modules/axios/lib/core/settle.js[2m:19:12)[22m[2m[22m
[2m      [2mat IncomingMessage.handleStreamEnd ([22m[2m../../node_modules/.pnpm/axios@1.13.5/node_modules/axios/lib/adapters/http.js[2m:798:11)[22m[2m[22m
[2m      [2mat Axios.request ([22m[2m../../node_modules/.pnpm/axios@1.13.5/node_modules/axios/lib/core/Axios.js[2m:46:41)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/vlass-api/vlass-api.spec.ts[39m[0m[2m:41:24)[22m[2m[22m
[1m[31m  [1mâ— [22m[1mvlass-api e2e â€º auth login â€º POST /api/auth/login rejects invalid credentials[39m[22m
    [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32m401[39m
    Received: [31m500[39m
[2m[22m
[2m    [0m [90m 61 |[39m       } [36mcatch[39m (error) {[22m
[2m     [90m 62 |[39m         [36mconst[39m axiosError [33m=[39m error [36mas[39m [33mAxiosError[39m[33m<[39m{ message[33m?[39m[33m:[39m string }[33m>[39m[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 63 |[39m         expect(axiosError[33m.[39mresponse[33m?[39m[33m.[39mstatus)[33m.[39mtoBe([35m401[39m)[33m;[39m[22m
[2m     [90m    |[39m                                             [31m[1m^[22m[2m[39m[22m
[2m     [90m 64 |[39m       }[22m
[2m     [90m 65 |[39m     })[33m;[39m[22m
[2m     [90m 66 |[39m   })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toBe ([22m[2m[0m[36msrc/vlass-api/vlass-api.spec.ts[39m[0m[2m:63:45)[22m[2m[22m
[1m[31m  [1mâ— [22m[1mvlass-api e2e â€º rate limiting for write endpoints â€º returns 429 when the write limit is exceeded on /api/users[39m[22m
    AxiosError: Request failed with status code 500
[2m[22m
[2m    [0m [90m 74 |[39m       [36mfor[39m ([36mlet[39m i [33m=[39m [35m0[39m[33m;[39m i [33m<[39m [35m40[39m[33m;[39m i [33m+=[39m [35m1[39m) {[22m
[2m     [90m 75 |[39m         [36mtry[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 76 |[39m           [36mconst[39m response [33m=[39m [36mawait[39m axios[33m.[39mpost([22m
[2m     [90m    |[39m                            [31m[1m^[22m[2m[39m[22m
[2m     [90m 77 |[39m             [32m'/api/users'[39m[33m,[39m[22m
[2m     [90m 78 |[39m             {[22m
[2m     [90m 79 |[39m               username[33m:[39m [32m`ratelimit_user_${nonce}_${i}`[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat settle ([22m[2m../../node_modules/.pnpm/axios@1.13.5/node_modules/axios/lib/core/settle.js[2m:19:12)[22m[2m[22m
[2m      [2mat IncomingMessage.handleStreamEnd ([22m[2m../../node_modules/.pnpm/axios@1.13.5/node_modules/axios/lib/adapters/http.js[2m:798:11)[22m[2m[22m
[2m      [2mat Axios.request ([22m[2m../../node_modules/.pnpm/axios@1.13.5/node_modules/axios/lib/core/Axios.js[2m:46:41)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/vlass-api/vlass-api.spec.ts[39m[0m[2m:76:28)[22m[2m[22m
[1m[31m  [1mâ— [22m[1mvlass-api e2e â€º viewer permalink and snapshot â€º POST /api/view/state creates and GET /api/view/:shortId resolves state[39m[22m
    AxiosError: Request failed with status code 500
[2m[22m
[2m    [0m [90m 104 |[39m   describe([32m'viewer permalink and snapshot'[39m[33m,[39m () [33m=>[39m {[22m
[2m     [90m 105 |[39m     it([32m'POST /api/view/state creates and GET /api/view/:shortId resolves state'[39m[33m,[39m [36masync[39m () [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 106 |[39m       [36mconst[39m createResponse [33m=[39m [36mawait[39m axios[33m.[39mpost([32m'/api/view/state'[39m[33m,[39m {[22m
[2m     [90m     |[39m                              [31m[1m^[22m[2m[39m[22m
[2m     [90m 107 |[39m         state[33m:[39m {[22m
[2m     [90m 108 |[39m           ra[33m:[39m [35m187.25[39m[33m,[39m[22m
[2m     [90m 109 |[39m           dec[33m:[39m [35m2.05[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat settle ([22m[2m../../node_modules/.pnpm/axios@1.13.5/node_modules/axios/lib/core/settle.js[2m:19:12)[22m[2m[22m
[2m      [2mat IncomingMessage.handleStreamEnd ([22m[2m../../node_modules/.pnpm/axios@1.13.5/node_modules/axios/lib/adapters/http.js[2m:798:11)[22m[2m[22m
[2m      [2mat Axios.request ([22m[2m../../node_modules/.pnpm/axios@1.13.5/node_modules/axios/lib/core/Axios.js[2m:46:41)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/vlass-api/vlass-api.spec.ts[39m[0m[2m:106:30)[22m[2m[22m
[1m[31m  [1mâ— [22m[1mvlass-api e2e â€º viewer permalink and snapshot â€º round-trips a non-default survey in permalink state[39m[22m
    AxiosError: Request failed with status code 500
[2m[22m
[2m    [0m [90m 128 |[39m[22m
[2m     [90m 129 |[39m     it([32m'round-trips a non-default survey in permalink state'[39m[33m,[39m [36masync[39m () [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 130 |[39m       [36mconst[39m createResponse [33m=[39m [36mawait[39m axios[33m.[39mpost([32m'/api/view/state'[39m[33m,[39m {[22m
[2m     [90m     |[39m                              [31m[1m^[22m[2m[39m[22m
[2m     [90m 131 |[39m         state[33m:[39m {[22m
[2m     [90m 132 |[39m           ra[33m:[39m [35m12.3456[39m[33m,[39m[22m
[2m     [90m 133 |[39m           dec[33m:[39m [33m-[39m[35m45.6789[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat settle ([22m[2m../../node_modules/.pnpm/axios@1.13.5/node_modules/axios/lib/core/settle.js[2m:19:12)[22m[2m[22m
[2m      [2mat IncomingMessage.handleStreamEnd ([22m[2m../../node_modules/.pnpm/axios@1.13.5/node_modules/axios/lib/adapters/http.js[2m:798:11)[22m[2m[22m
[2m      [2mat Axios.request ([22m[2m../../node_modules/.pnpm/axios@1.13.5/node_modules/axios/lib/core/Axios.js[2m:46:41)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/vlass-api/vlass-api.spec.ts[39m[0m[2m:130:30)[22m[2m[22m
[1m[31m  [1mâ— [22m[1mvlass-api e2e â€º viewer permalink and snapshot â€º POST /api/view/snapshot stores snapshot metadata[39m[22m
    AxiosError: Request failed with status code 500
[2m[22m
[2m    [0m [90m 155 |[39m         [32m'iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO1N7nQAAAAASUVORK5CYII='[39m[33m;[39m[22m
[2m     [90m 156 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 157 |[39m       [36mconst[39m response [33m=[39m [36mawait[39m axios[33m.[39mpost([32m'/api/view/snapshot'[39m[33m,[39m {[22m
[2m     [90m     |[39m                        [31m[1m^[22m[2m[39m[22m
[2m     [90m 158 |[39m         image_data_url[33m:[39m [32m`data:image/png;base64,${onePixelPngBase64}`[39m[33m,[39m[22m
[2m     [90m 159 |[39m         state[33m:[39m {[22m
[2m     [90m 160 |[39m           ra[33m:[39m [35m200.1[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat settle ([22m[2m../../node_modules/.pnpm/axios@1.13.5/node_modules/axios/lib/core/settle.js[2m:19:12)[22m[2m[22m
[2m      [2mat IncomingMessage.handleStreamEnd ([22m[2m../../node_modules/.pnpm/axios@1.13.5/node_modules/axios/lib/adapters/http.js[2m:798:11)[22m[2m[22m
[2m      [2mat Axios.request ([22m[2m../../node_modules/.pnpm/axios@1.13.5/node_modules/axios/lib/core/Axios.js[2m:46:41)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/vlass-api/vlass-api.spec.ts[39m[0m[2m:157:24)[22m[2m[22m
[1m[31m  [1mâ— [22m[1mvlass-api e2e â€º posts authorization and revision flow â€º creates, updates, and publishes a post as owner[39m[22m
    AxiosError: Request failed with status code 500
[2m[22m
[2m    [0m [90m  7 |[39m     password [33m=[39m [32m'Password123!'[39m[33m,[39m[22m
[2m     [90m  8 |[39m   )[33m:[39m [33mPromise[39m[33m<[39m{ access_token[33m:[39m string[33m;[39m user[33m:[39m { id[33m:[39m string } }[33m>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m  9 |[39m     [36mconst[39m response [33m=[39m [36mawait[39m axios[33m.[39mpost([32m'/api/auth/register'[39m[33m,[39m {[22m
[2m     [90m    |[39m                      [31m[1m^[22m[2m[39m[22m
[2m     [90m 10 |[39m       username[33m,[39m[22m
[2m     [90m 11 |[39m       email[33m,[39m[22m
[2m     [90m 12 |[39m       password[33m,[39m[0m[22m
[2m[22m
[2m      [2mat settle ([22m[2m../../node_modules/.pnpm/axios@1.13.5/node_modules/axios/lib/core/settle.js[2m:19:12)[22m[2m[22m
[2m      [2mat IncomingMessage.handleStreamEnd ([22m[2m../../node_modules/.pnpm/axios@1.13.5/node_modules/axios/lib/adapters/http.js[2m:798:11)[22m[2m[22m
[2m      [2mat Axios.request ([22m[2m../../node_modules/.pnpm/axios@1.13.5/node_modules/axios/lib/core/Axios.js[2m:46:41)[22m[2m[22m
[2m      [2mat registerUser ([22m[2m[0m[36msrc/vlass-api/vlass-api.spec.ts[39m[0m[2m:9:22)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/vlass-api/vlass-api.spec.ts[39m[0m[2m:209:21)[22m[2m[22m
[1m[31m  [1mâ— [22m[1mvlass-api e2e â€º posts authorization and revision flow â€º rejects non-owner post modification with 403[39m[22m
    AxiosError: Request failed with status code 500
[2m[22m
[2m    [0m [90m  7 |[39m     password [33m=[39m [32m'Password123!'[39m[33m,[39m[22m
[2m     [90m  8 |[39m   )[33m:[39m [33mPromise[39m[33m<[39m{ access_token[33m:[39m string[33m;[39m user[33m:[39m { id[33m:[39m string } }[33m>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m  9 |[39m     [36mconst[39m response [33m=[39m [36mawait[39m axios[33m.[39mpost([32m'/api/auth/register'[39m[33m,[39m {[22m
[2m     [90m    |[39m                      [31m[1m^[22m[2m[39m[22m
[2m     [90m 10 |[39m       username[33m,[39m[22m
[2m     [90m 11 |[39m       email[33m,[39m[22m
[2m     [90m 12 |[39m       password[33m,[39m[0m[22m
[2m[22m
[2m      [2mat settle ([22m[2m../../node_modules/.pnpm/axios@1.13.5/node_modules/axios/lib/core/settle.js[2m:19:12)[22m[2m[22m
[2m      [2mat IncomingMessage.handleStreamEnd ([22m[2m../../node_modules/.pnpm/axios@1.13.5/node_modules/axios/lib/adapters/http.js[2m:798:11)[22m[2m[22m
[2m      [2mat Axios.request ([22m[2m../../node_modules/.pnpm/axios@1.13.5/node_modules/axios/lib/core/Axios.js[2m:46:41)[22m[2m[22m
[2m      [2mat registerUser ([22m[2m[0m[36msrc/vlass-api/vlass-api.spec.ts[39m[0m[2m:9:22)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/vlass-api/vlass-api.spec.ts[39m[0m[2m:261:21)[22m[2m[22m
[1m[31m  [1mâ— [22m[1mvlass-api e2e â€º posts authorization and revision flow â€º supports owner moderation actions: hide/unhide and lock/unlock[39m[22m
    AxiosError: Request failed with status code 500
[2m[22m
[2m    [0m [90m  7 |[39m     password [33m=[39m [32m'Password123!'[39m[33m,[39m[22m
[2m     [90m  8 |[39m   )[33m:[39m [33mPromise[39m[33m<[39m{ access_token[33m:[39m string[33m;[39m user[33m:[39m { id[33m:[39m string } }[33m>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m  9 |[39m     [36mconst[39m response [33m=[39m [36mawait[39m axios[33m.[39mpost([32m'/api/auth/register'[39m[33m,[39m {[22m
[2m     [90m    |[39m                      [31m[1m^[22m[2m[39m[22m
[2m     [90m 10 |[39m       username[33m,[39m[22m
[2m     [90m 11 |[39m       email[33m,[39m[22m
[2m     [90m 12 |[39m       password[33m,[39m[0m[22m
[2m[22m
[2m      [2mat settle ([22m[2m../../node_modules/.pnpm/axios@1.13.5/node_modules/axios/lib/core/settle.js[2m:19:12)[22m[2m[22m
[2m      [2mat IncomingMessage.handleStreamEnd ([22m[2m../../node_modules/.pnpm/axios@1.13.5/node_modules/axios/lib/adapters/http.js[2m:798:11)[22m[2m[22m
[2m      [2mat Axios.request ([22m[2m../../node_modules/.pnpm/axios@1.13.5/node_modules/axios/lib/core/Axios.js[2m:46:41)[22m[2m[22m
[2m      [2mat registerUser ([22m[2m[0m[36msrc/vlass-api/vlass-api.spec.ts[39m[0m[2m:9:22)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/vlass-api/vlass-api.spec.ts[39m[0m[2m:291:21)[22m[2m[22m
[1mTest Suites: [22m[1m[31m3 failed[39m[22m, [1m[32m1 passed[39m[22m, 4 total
[1mTests:       [22m[1m[31m20 failed[39m[22m, [1m[32m6 passed[39m[22m, 26 total
[1mSnapshots:   [22m0 total
[1mTime:[22m        0.973 s, estimated 2 s
[2mRan all test suites[22m[2m.[22m
Tearing down...



[0m[7m[1m[31m NX [39m[22m[27m[0m  [31mRunning target [1me2e[22m for project vlass-api-e2e and [1m2[22m tasks it depends on failed[39m

[2mFailed tasks:[22m

[2m-[22m vlass-api-e2e:e2e

[2mHint: run the command with[22m --verbose [2mfor more details.[22m

Warning: command "pnpm run start:ports:free && pnpm nx run vlass-web-e2e:e2e-mvp && pnpm nx run vlass-web-e2e:e2e-perf && pnpm nx run vlass-api-e2e:e2e" exited with non-zero status code


 NX   Running target e2e for project mvp-gates failed

Failed tasks:

- mvp-gates:e2e

Hint: run the command with --verbose for more details.


 NX   Nx detected a flaky task

  mvp-gates:e2e

Flaky tasks can disrupt your CI pipeline. Automatically retry them with Nx Cloud. Learn more at https://nx.dev/ci/features/flaky-tasks

â€‰ELIFECYCLEâ€‰ Command failed with exit code 1.
