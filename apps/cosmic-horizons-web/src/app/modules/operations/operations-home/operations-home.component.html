<h2>Operations</h2>
<div class="operations-grid">
  <ng-container *ngFor="let tile of tiles">
    <mat-card
      [ngClass]="tile.colorClass"
      class="tile"
      [routerLink]="tile.route"
      *ngIf="tile"
    >
      <div class="tile-header">
        <div class="tile-icon" *ngIf="tile.icon">
          <mat-icon>{{ tile.icon }}</mat-icon>
        </div>
        <div class="tile-title">{{ tile.title }}</div>
      </div>

      <div class="tile-bottom">
        <div class="tile-subtitle tile-pill" *ngIf="tile.subtitle$ | async as sub">
          {{ sub }}
        </div>
        <div
          *ngIf="tile.status$ | async as status"
          class="status-chip tile-pill"
          [class.status-chip--healthy]="status === 'healthy'"
          [class.status-chip--degraded]="status !== 'healthy'"
        >
          {{ status }}
        </div>
        <ng-container *ngIf="tile.badge$ | async as badge">
          <div class="tile-badge tile-pill" [matBadge]="badge" matBadgeOverlap="false">
            Jobs
          </div>
          <a *ngIf="badge > 0" class="alert-link tile-pill" [routerLink]="'alerts'">
            View alerts
          </a>
        </ng-container>
        <ng-container *ngIf="tile.extraChips$ | async as chips">
          <div class="tile-chips">
            <span class="tile-pill" *ngFor="let c of chips">
              {{ c.text }}
            </span>
          </div>
        </ng-container>
      </div>
    </mat-card>
  </ng-container>
</div>
