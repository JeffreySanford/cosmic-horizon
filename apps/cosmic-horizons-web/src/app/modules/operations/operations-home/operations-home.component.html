<h2>Operations</h2>
<div class="operations-grid">
  <ng-container *ngFor="let tile of tiles">
    <mat-card
      [ngClass]="tile.colorClass"
      class="tile"
      [routerLink]="tile.route"
      *ngIf="tile"
    >
      <div class="tile-icon" *ngIf="tile.icon">
        <mat-icon>{{ tile.icon }}</mat-icon>
      </div>
      <div class="tile-title">{{ tile.title }}</div>
      <div class="tile-subtitle" *ngIf="tile.subtitle$ | async as sub">
        {{ sub }}
      </div>
      <mat-chip
        *ngIf="tile.status$ | async as status"
        [color]="status === 'healthy' ? 'primary' : 'warn'"
        selected
        class="status-chip"
      >
        {{ status }}
      </mat-chip>
      <ng-container *ngIf="tile.badge$ | async as badge">
        <div class="tile-badge">
          <span [matBadge]="badge" matBadgeOverlap="false"></span>
        </div>
        <a *ngIf="badge > 0" class="alert-link" [routerLink]="'alerts'">
          View alerts
        </a>
      </ng-container>
      <ng-container *ngIf="tile.extraChips$ | async as chips">
        <div class="tile-chips">
          <mat-chip *ngFor="let c of chips" [color]="c.color || 'primary'" selected>
            {{ c.text }}
          </mat-chip>
        </div>
      </ng-container>
    </mat-card>
  </ng-container>
</div>
