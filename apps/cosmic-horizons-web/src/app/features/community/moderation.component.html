<!-- eslint-disable @angular-eslint/template/prefer-control-flow -->
<div class="community-moderation-root">
  <mat-card>
    <mat-card-title>Community Moderation (admin prototype)</mat-card-title>
    <mat-card-content>
      <ng-container *ngIf="loading">
        <div>Loading pending posts…</div>
      </ng-container>

      <ng-container *ngIf="!loading && pending.length">
        <mat-list>
          <ng-container *ngFor="let item of pending">
            <mat-list-item>
              <div class="item-content">
                <strong>{{ item.title }}</strong>
                <p class="meta">{{ item.author || 'anonymous' }} — {{ item.createdAt | date:'short' }}</p>
                <p class="body">{{ item.body }}</p>
              </div>
              <div class="actions">
                <button mat-mini-button color="primary" (click)="approve(item)">Approve</button>
                <button mat-mini-button color="warn" (click)="hide(item)">Hide</button>
              </div>
            </mat-list-item>
          </ng-container>
        </mat-list>
      </ng-container>

      <ng-container *ngIf="!loading && pending.length === 0">
        <div>No pending posts.</div>
      </ng-container>
    </mat-card-content>
  </mat-card>
</div>
